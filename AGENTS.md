# AGENTS.md

## Project Snapshot
- Repo type: single-package n8n community node (no workspaces)
- Stack: TypeScript, n8n-workflow, ESLint (n8n rules), Prettier, gulp
- Build output: dist/ (generated by tsc + gulp)
- Sub-areas: credentials/ and nodes/Resend/ have their own AGENTS.md files

## Root Setup Commands
- Install deps: `npm install`
- Build: `npm run build`
- Dev watch: `npm run dev`
- Typecheck: `npx tsc --noEmit`
- Lint: `npm run lint`
- Format: `npm run format`
- Tests: not configured (no npm test script)

## Universal Conventions
- Node >= 20.15 (see `package.json`)
- TypeScript strict is enabled (see `tsconfig.json`)
- Prettier uses tabs, single quotes, trailing commas (see `.prettierrc.js`)
- ESLint uses n8n-nodes-base rules for nodes/credentials (see `.eslintrc.js`)
- Default branch is master; PRs target master (see `.github/workflows/ci.yml`)
- dist/ is generated; do not hand-edit

## Security & Secrets
- Never commit Resend API keys or webhook signing secrets
- Store credentials via n8n UI, not in repo files
- Avoid logging `whsec_` webhook signing secrets

## JIT Index (what to open, not what to paste)

### Package Structure
- Credentials: `credentials/` -> `credentials/AGENTS.md`
- Resend node + trigger: `nodes/Resend/` -> `nodes/Resend/AGENTS.md`
- Node icons: `nodes/Resend/*.svg` (copied by `gulp build:icons`)
- Archive: `_audit/` (legacy reference, not built)

### Quick Find Commands
- Node parameter definitions: `rg -n "displayName" nodes/Resend/Resend.node.ts`
- API requests: `rg -n "helpers.httpRequest" nodes/Resend/Resend.node.ts`
- Webhook logic: `rg -n "webhook" nodes/Resend/ResendTrigger.node.ts`
- Credential auth: `rg -n "authenticate" credentials/ResendApi.credentials.ts`
- Credential test: `rg -n "test:" credentials/ResendApi.credentials.ts`

## Definition of Done
- `npm run build` succeeds and generates `dist/`
- `npm run lint` passes
- `npm run format` produces no diffs
- No secrets added to git history
